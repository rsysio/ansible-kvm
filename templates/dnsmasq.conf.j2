# Only bind to the virtual bridge. This avoids conflicts with other running
# dnsmasq instances.
except-interface=lo
interface={{ bridge.name }}
bind-dynamic

# IPv4 addresses to offer to VMs. This should match the chosen subnet.
dhcp-range={{ bridge.dhcp.first }},{{ bridge.dhcp.last }}

# Set this to at least the total number of addresses in DHCP-enabled subnets.
dhcp-lease-max=1000

# File to write DHCP lease information to.
dhcp-leasefile=/var/lib/libvirt/dnsmasq/{{ bridge.name }}.leases

# File to read DHCP host information from.
dhcp-hostsfile=/var/lib/libvirt/dnsmasq/{{ bridge.name }}.hostsfile

# Avoid problems with old or broken clients.
dhcp-no-override

# https://www.redhat.com/archives/libvir-list/2010-March/msg00038.html
strict-order
